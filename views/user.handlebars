<section>
    <header>
        <h1>User Profile</h1>
    </header>

    <main>
        <!-- Clothes to Sell -->
        <h2>Clothes to Sell</h2>
        <ul>
            {{#each clothes}}
                <li>
                    <img src="{{photo}}" alt="{{name}}">
                    <h3>{{name}}</h3>
                    <p>{{description}}</p>
                    <p>Price: {{price}}</p>
                    <p>Condition: {{condition}}</p>
                    <p>Color: {{color}}</p>
                    <p>Size: {{size}}</p>
                    <button onclick="deleteClothes('{{id}}')">Delete</button>
                </li>
            {{/each}}
        </ul>

        <!-- User Account -->
        <h2>User Account</h2>

        <!-- Display user data here -->
        <p id="loginInfo">Login Info: Loading...</p>
        <a href="/cart" id="editWalletInfo" class="button">Edit Wallet Info</a>

        <!-- Delete Clothing Items -->
        <h2>Delete Clothing Items</h2>
        <ul>
            {{#each unsoldClothes}}
                <li>
                    <img src="{{photo}}" alt="{{name}}">
                    <h3>{{name}}</h3>
                    <p>{{description}}</p>
                    <p>Price: {{price}}</p>
                    <p>Condition: {{condition}}</p>
                    <p>Color: {{color}}</p>
                    <p>Size: {{size}}</p>
                    <button onclick="deleteClothes('{{id}}')">Delete</button>
                    <button onclick="editClothes('{{id}}')">Edit</button>
                </li>
            {{/each}}
        </ul>
    </main>
</section>

<script>
    // Function to fetch user data
    async function fetchUserData() {
        try {
            const response = await fetch(`http://localhost:3000/users/663697c9688675c9ef30de2f`);
            if (!response.ok) {
                throw new Error('Failed to fetch user data');
            }
            const userData = await response.json();
            displayUserData(userData);
        } catch (error) {
            console.error('Error fetching user data:', error);
            // Display error message to user
            const loginInfoContainer = document.getElementById('loginInfo');
            loginInfoContainer.textContent = `Login Info: Error fetching user data`;
        }
    }

    // Function to display user data in the HTML
    function displayUserData(userId) {
        const loginInfoContainer = document.getElementById('loginInfo');
        loginInfoContainer.innerHTML = `
            <p>Login Info:</p>
            <ul>
                <li>Username: ${userId.username}</li>
                <li>First Name: ${userId.firstName}</li>
                <li>Last Name: ${userId.lastName}</li>
                <li>Email: ${userId.email}</li>
                <li>Role: ${userId.role}</li>
            </ul>
        `;
        // Optionally, display other user data here if needed
    }

    // Call fetchUserData when the page loads
    window.addEventListener('load', fetchUserData);
</script>
