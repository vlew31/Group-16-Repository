<section class="home">
    <header>
        <h1>$waggle</h1>
        <p class="welcome"></p>
    </header>
</section>

<section>
    <header>
        <h2>Recently added listings:</h2>
    </header>
    <div id="listings-container"></div>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            fetch('http://localhost:3000/listings')
                .then(response => response.json())
                .then(data => {
                    const listingsContainer = document.getElementById('listings-container');

                    data.forEach(listing => {
                        const listingDiv = document.createElement('div');
                        listingDiv.classList.add('listing');

                const listingLink = document.createElement('a');
                listingLink.href = `/listing/${listing._id}`;
                listingLink.appendChild(listingDiv);

                        listingDiv.innerHTML =
                            `<h3>${listing.title}</h3>
                            <p><span class="key">Seller:</span> <span class="value">${listing.seller}</span></p>
                            <img src="${listing.photos[0]}" alt="${listing.title}">
                            <p><span class="key">Description:</span> <span class="value">${listing.description}</span></p>
                            <p><span class="key">Article:</span> <span class="value">${listing.article}</span></p>
                            <p><span class="key">Gender:</span> <span class="value">${listing.gender}</span></p>
                            <p><span class="key">Size:</span> <span class="value">${listing.size}</span></p>
                            <p><span class="key">Color:</span> <span class="value">${listing.color}</span></p>
                            <p><span class="key">Condition:</span> <span class="value">${listing.condition}</span></p>
                            <p><span class="key">Price:</span> <span class="value">${listing.price}</span></p>`;

                        listingsContainer.appendChild(listingLink);
                    });
                })
                .catch(error => console.error('Error fetching listings:', error));
        });
    </script>
</section>