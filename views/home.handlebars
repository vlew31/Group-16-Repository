<section class="home">
        <header>
            <h1>$waggle</h1>
            <p class="welcome"></p>
        </header>
        <a href="/search" class="search-button">Click here to search for clothes!</a>
        
</section>

<section>
    <header>
        <h2>Recently added listings:</h2>
    </header>

    <div id="listings-container"></div>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
        fetch('http://localhost:3000/listings')
            .then(response => response.json())
            .then(data => {
            const listingsContainer = document.getElementById('listings-container');

            data.forEach(listing => {
                const listingDiv = document.createElement('div');
                listingDiv.classList.add('listing');

                const listingLink = document.createElement('a');
                listingLink.href = `/listings/${listing._id}`;
                listingLink.appendChild(listingDiv);

                listingDiv.innerHTML = 
                    `<h2>${listing.title}</h2>
                    <p><strong>Seller: </strong>${listing.seller}</p>
                    <img src="${listing.photos[0]}" alt="${listing.title}">
                    <p><strong>Description: </strong>${listing.description}</p>
                    <p><strong>Article: </strong>${listing.article}</p>
                    <p><strong>Gender: </strong>${listing.gender}</p>              
                    <p><strong>Size: </strong>${listing.size}</p>
                    <p><strong>Color: </strong>${listing.color}</p>
                    <p><strong>Condition: </strong>${listing.condition}</p>
                    <p><strong>Price: </strong>${listing.price}</p>`;
                listingsContainer.appendChild(listingLink);
            });
            })
            .catch(error => console.error('Error fetching listings:', error));
        });
    </script>
</section>
